name: Slides
args:
  numSlides      : {type: "number", value: 3, min: 1, name: "Numbers of slides"}
  background     : {type: "advanced-color", value: { type: "solid", color: "rgba(240, 240, 240, 1)" }, name: "Background"}
  strokeColor    : {type: "color", value: "rgba(212,212,212,1.0)", name: "Stroke color"}
  strokeSize     : {type: "number", value: 1, min: 0, name: "Stroke size"}
  textColor      : {type: "color", value: "rgba(30,30,30,1.0)", name: "Text color"}
  shadow         : {type: "boolean", value: true, name: "Drop shadow"}
  buttonColor    : {type: "advanced-color", value: { type: "solid", color: "rgba(78, 131, 245, 1)" }, name: "Button color"}
  iconColor      : {type: "color", value: "rgba(255, 255, 255, 1)", name: "Icon color"}
  buttonSize     : {type: "number", value: 60, min: 5, name: "Button size"}
  buttonOpacity  : {type: "number", value: 60, min: 5, name: "Button opacity"}
  padding        : {type: "number", value: 14, min: 0, name: "Padding"}
  cornerRadius   : {type: "number", value: 10, min: 0, name: "Corner radius"}
  frameFill      : {type: "advanced-color", value: { type: "solid", color: "rgba(250, 250, 250, 1)" }, name: "Frame background"}
  frameColor     : {type: "color", value: "rgba(212,212,212,1.0)", name: "Frame color"}
  frameStrokeSize: {type: "number", value: 1, min: 0, name: "Frame stroke size"}
  showAllSlides:
    type: boolean
    value: true
    name: Show all slides
    description: |
      Displays all slides in edit mode next to each other for easier editing.
      In view mode all the slides will be placed in their proper position and will be hidden

import:
  - ./src/slides.sch

handlers:
  delete: onDeleteItem(itemId, item)

controls:
  - name: addSlide
    type: button
    text: {$-str: 'Add slide #${numSlides+1}'}
    x: {$-expr: "width + (if (showAllSlides) { (slideWidth + slideMargin) * (numSlides - 1) } else { 0 })" }
    y: {$-expr: containerMarginTop}
    width: 120
    height: 30
    click:
      - numSlides = numSlides + 1

  - $-if: showAllSlides == true
    type: button
    text: Hide all slides
    placement: TL
    x: {$-expr: width}
    y: {$-expr: "0"}
    width: 90
    height: 30
    click:
      - showAllSlides = false

  - $-else: ""
    type: button
    text: Show all slides
    placement: TL
    x: {$-expr: width}
    y: {$-expr: "0"}
    width: 90
    height: 30
    click:
      - showAllSlides = true

  - $-for: { start: 0, until: {$-expr: 'numSlides'}, it: 'idx'}
    $-if: numSlides > 1 && showAllSlides
    data:
      slideIndex: {$-expr: "idx"}
    selectedItemId: {$-str: "slide-${idx+1}"}
    name: insertSlide
    type: button
    text: Insert slide
    placement: TL
    x: { $-expr: "containerMarginX + (slideWidth + slideMargin) * (idx+1) - slideMargin + ifcond(idx > 0, containerMarginX, 0) - slideWidth / 2 - 60" }
    y: { $-expr: "containerMarginTop + slideHeight" }
    width: 80
    height: 30
    click:
      - insertSlideAt(control.data.slideIndex)

  - $-for: { start: 0, until: {$-expr: "numSlides" }, it: "idx" }
    $-if: numSlides > 1 && showAllSlides
    data:
      slideIndex: { $-expr: "idx" }
    selectedItemId: { $-str: "slide-${idx+1}" }
    name: removeSlide
    type: button
    text: "â¤«"
    placement: BL
    x: { $-expr: "containerMarginX + (slideWidth + slideMargin) * (idx+1) - slideMargin + ifcond(idx > 0, containerMarginX, 0)" }
    y: { $-expr: "containerMarginTop" }
    width: 20
    height: 20
    click:
      - deleteSlide(control.data.slideIndex)

  - $-for: { start: 1, until: { $-expr: "numSlides" }, it: "idx" }
    $-if: numSlides > 1
    data:
      slideIndex: { $-expr: "idx" }
    selectedItemId: { $-str: "slide-${idx+1}" }
    name: moveSlideLeft
    type: button
    text: <
    placement: TL
    x: { $-expr: "containerMarginX + (slideWidth + slideMargin) * idx + ifcond(idx > 0, containerMarginX, 0)" }
    y: { $-expr: "containerMarginTop + slideHeight" }
    width: 30
    height: 20
    click:
      - swapSlides(control.data.slideIndex, control.data.slideIndex+1)

  - $-for: { start: 0, until: { $-expr: "numSlides - 1" }, it: "idx" }
    $-if: numSlides > 1
    data:
      slideIndex: { $-expr: "idx" }
    selectedItemId: { $-str: "slide-${idx+1}" }
    name: moveSlideRight
    type: button
    text: '>'
    placement: TR
    x: { $-expr: "containerMarginX + (slideWidth + slideMargin) * (idx+1) - slideMargin + ifcond(idx > 0, containerMarginX, 0)" }
    y: { $-expr: "containerMarginTop + slideHeight" }
    width: 30
    height: 20
    click:
      - swapSlides(control.data.slideIndex+1, control.data.slideIndex+2)
description: ""
preview: |
  data:image/svg+xml;base64,PHN2ZyByZWY9InN2Z0NvbnRhaW5lciIgY2xhc3M9ImV4cG9ydC1zdmctcHJldmlldyIKICAgICAgICB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIyMDBweCIKICAgICAgICB2aWV3Qm94PSItMTAgLTEwIDU5NSA0MjAiCiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiCiAgICAgICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgICAgIHhtbG5zOnhodG1sPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIgogICAgICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiA+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSByb3RhdGUoMCkiIGRhdGEtc3ZnLWl0ZW0tY29udGFpbmVyLWlkPSJETGhlQ0k5Q2w4XyIgZGF0YS1pdGVtLWlkPSJETGhlQ0k5Q2w4XyIgc3R5bGU9Im9wYWNpdHk6IDE7IG1peC1ibGVuZC1tb2RlOiBub3JtYWw7Ij48Zz48ZGVmcz48ZmlsdGVyIGlkPSJpdGVtLWVmZmVjdC1kcm9wLXNoYWRvdy1ETGhlQ0k5Q2w4Xy0wIiB4PSItNTAwJSIgeT0iLTUwMCUiIHdpZHRoPSIyMDAwJSIgaGVpZ2h0PSIyMDAwJSI+PGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VHcmFwaGljIiBzdGREZXZpYXRpb249IjIwIj48L2ZlR2F1c3NpYW5CbHVyPjwvZmlsdGVyPjwvZGVmcz48cGF0aCBkPSJNIDU2NS4wNTg3NTExMzc5OTk1IDQwMCAgTCAxMCA0MDAgYSAxMCAxMCAwIDAgMSAtMTAgLTEwICBMIDAgMTAgIGEgMTAgMTAgMCAwIDEgMTAgLTEwICAgTCA1NjUuMDU4NzUxMTM3OTk5NSAwICAgYSAxMCAxMCAwIDAgMSAxMCAxMCAgTCA1NzUuMDU4NzUxMTM3OTk5NSAzOTAgICBhIDEwIDEwIDAgMCAxIC0xMCAxMCBaIiBzdHJva2U9Im5vbmUiIGZpbGw9InJnYmEoMCwwLDAsMS4wKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAzKSIgc3R5bGU9Im9wYWNpdHk6IDAuMiIgZmlsdGVyPSJ1cmwoI2l0ZW0tZWZmZWN0LWRyb3Atc2hhZG93LURMaGVDSTlDbDhfLTApIj48L3BhdGg+PC9nPiA8ZGVmcz48L2RlZnM+IDxnIGZpbHRlcj0iIj4gPGcgc3R5bGU9Im9wYWNpdHk6IDE7Ij48Zz4gPC9nPiA8cGF0aCBkPSJNIDU2NS4wNTg3NTExMzc5OTk1IDQwMCAgTCAxMCA0MDAgYSAxMCAxMCAwIDAgMSAtMTAgLTEwICBMIDAgMTAgIGEgMTAgMTAgMCAwIDEgMTAgLTEwICAgTCA1NjUuMDU4NzUxMTM3OTk5NSAwICAgYSAxMCAxMCAwIDAgMSAxMCAxMCAgTCA1NzUuMDU4NzUxMTM3OTk5NSAzOTAgICBhIDEwIDEwIDAgMCAxIC0xMCAxMCBaIiBzdHJva2Utd2lkdGg9IjFweCIgc3Ryb2tlPSJyZ2JhKDIxMiwyMTIsMjEyLDEuMCkiIHN0cm9rZS1kYXNoYXJyYXk9IiIgZGF0YS1pdGVtLWlkPSJETGhlQ0k5Q2w4XyIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbD0icmdiYSgyNDAsIDI0MCwgMjQwLCAxKSI+PC9wYXRoPjwvZz4gIDxnIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGZvcmVpZ25PYmplY3QgZGF0YS10ZXh0LXNsb3QtbmFtZT0iYm9keSIgaWQ9Iml0ZW0tdGV4dC1zbG90LURMaGVDSTlDbDhfLWJvZHkiIHg9IjAiIHk9IjAiIHdpZHRoPSI1NzUuMDU4NzUxMTM3OTk5NSIgaGVpZ2h0PSI0MDAiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIGRhdGEtaXRlbS1pZD0iRExoZUNJOUNsOF8iIGNsYXNzPSJpdGVtLXRleHQtY29udGFpbmVyIiBzdHlsZT0iY29sb3I6IHJnYigwLCAwLCAwKTsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgcGFkZGluZzogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IHdoaXRlLXNwYWNlOiBub3JtYWw7IGRpc3BsYXk6IHRhYmxlLWNlbGw7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHdpZHRoOiA1NzUuMDU5cHg7IGhlaWdodDogNDAwcHg7Ij48ZGl2IGRhdGEtaXRlbS10ZXh0LWVsZW1lbnQtaXRlbS1pZD0iRExoZUNJOUNsOF8iIGNsYXNzPSJpdGVtLXRleHQtZWxlbWVudCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPiAgICAgICAgIDxnPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMTQzLjc2NDY4Nzc4NDQ5OTg3LDApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0iYkdGQVh2T1hmY0siIGRhdGEtaXRlbS1pZD0iYkdGQVh2T1hmY0siIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiAgIDxnIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGZvcmVpZ25PYmplY3QgZGF0YS10ZXh0LXNsb3QtbmFtZT0iYm9keSIgaWQ9Iml0ZW0tdGV4dC1zbG90LWJHRkFYdk9YZmNLLWJvZHkiIHg9IjAiIHk9IjAiIHdpZHRoPSIyODcuNTI5Mzc1NTY4OTk5NzQiIGhlaWdodD0iNDAiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIGRhdGEtaXRlbS1pZD0iYkdGQVh2T1hmY0siIGNsYXNzPSJpdGVtLXRleHQtY29udGFpbmVyIiBzdHlsZT0iY29sb3I6IHJnYigzMCwgMzAsIDMwKTsgZm9udC1zaXplOiAyMHB4OyBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgcGFkZGluZzogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IHdoaXRlLXNwYWNlOiBub3JtYWw7IGRpc3BsYXk6IHRhYmxlLWNlbGw7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHdpZHRoOiAyODcuNTI5cHg7IGhlaWdodDogNDBweDsiPjxkaXYgZGF0YS1pdGVtLXRleHQtZWxlbWVudC1pdGVtLWlkPSJiR0ZBWHZPWGZjSyIgY2xhc3M9Iml0ZW0tdGV4dC1lbGVtZW50IiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PHAgc3R5bGU9Im1hcmdpbi10b3A6IDBweDsgbWFyZ2luLWJvdHRvbTogMHB4OyBwYWRkaW5nOiAwcHg7IG1pbi1oZWlnaHQ6IDE4cHg7Ij48c3Ryb25nPlNsaWRlczwvc3Ryb25nPjwvcD48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz4gICAgICAgICAgPC9nPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsNTQsNjApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0iZDdPOW0zaUV3YTIiIGRhdGEtaXRlbS1pZD0iZDdPOW0zaUV3YTIiIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gNDY3LjA1ODc1MTEzNzk5OTUgMzI2ICBMIDAgMzI2IGEgMCAwIDAgMCAxIDAgMCAgTCAwIDAgIGEgMCAwIDAgMCAxIDAgMCAgIEwgNDY3LjA1ODc1MTEzNzk5OTUgMCAgIGEgMCAwIDAgMCAxIDAgMCAgTCA0NjcuMDU4NzUxMTM3OTk5NSAzMjYgICBhIDAgMCAwIDAgMSAwIDAgWiIgc3Ryb2tlLXdpZHRoPSIxcHgiIHN0cm9rZT0icmdiYSgyMTIsMjEyLDIxMiwxLjApIiBzdHJva2UtZGFzaGFycmF5PSIiIGRhdGEtaXRlbS1pZD0iZDdPOW0zaUV3YTIiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9InJnYmEoMjUwLCAyNTAsIDI1MCwgMSkiPjwvcGF0aD48L2c+ICA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxmb3JlaWduT2JqZWN0IGRhdGEtdGV4dC1zbG90LW5hbWU9ImJvZHkiIGlkPSJpdGVtLXRleHQtc2xvdC1kN085bTNpRXdhMi1ib2R5IiB4PSIwIiB5PSIwIiB3aWR0aD0iNDY3LjA1ODc1MTEzNzk5OTUiIGhlaWdodD0iMzI2Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBkYXRhLWl0ZW0taWQ9ImQ3TzltM2lFd2EyIiBjbGFzcz0iaXRlbS10ZXh0LWNvbnRhaW5lciIgc3R5bGU9ImNvbG9yOiByZ2IoMCwgMCwgMCk7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7IHBhZGRpbmc6IDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyBkaXNwbGF5OiB0YWJsZS1jZWxsOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB3aWR0aDogNDY3LjA1OXB4OyBoZWlnaHQ6IDMyNnB4OyI+PGRpdiBkYXRhLWl0ZW0tdGV4dC1lbGVtZW50LWl0ZW0taWQ9ImQ3TzltM2lFd2EyIiBjbGFzcz0iaXRlbS10ZXh0LWVsZW1lbnQiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz4gICAgICAgICA8Zz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLDAsMCkiIGRhdGEtc3ZnLWl0ZW0tY29udGFpbmVyLWlkPSJKN2RmeEtXZGkyeiIgZGF0YS1pdGVtLWlkPSJKN2RmeEtXZGkyeiIgc3R5bGU9Im9wYWNpdHk6IDE7IG1peC1ibGVuZC1tb2RlOiBub3JtYWw7Ij4gPGRlZnM+PC9kZWZzPiA8ZyBmaWx0ZXI9IiI+IDxnIHN0eWxlPSJvcGFjaXR5OiAwOyI+PGc+IDwvZz4gPHBhdGggZD0iTSA0NzcuMDU4NzUxMTM3OTk5NSAzMjYgIEwgMCAzMjYgYSAwIDAgMCAwIDEgMCAwICBMIDAgMCAgYSAwIDAgMCAwIDEgMCAwICAgTCA0NzcuMDU4NzUxMTM3OTk5NSAwICAgYSAwIDAgMCAwIDEgMCAwICBMIDQ3Ny4wNTg3NTExMzc5OTk1IDMyNiAgIGEgMCAwIDAgMCAxIDAgMCBaIiBzdHJva2Utd2lkdGg9IjJweCIgc3Ryb2tlPSJyZ2JhKDMwLDMwLDMwLDEuMCkiIHN0cm9rZS1kYXNoYXJyYXk9IiIgZGF0YS1pdGVtLWlkPSJKN2RmeEtXZGkyeiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbD0icmdiYSgyNDAsMjQwLDI0MCwxLjApIj48L3BhdGg+PC9nPiAgPGcgc3R5bGU9Im9wYWNpdHk6IDA7Ij48Zm9yZWlnbk9iamVjdCBkYXRhLXRleHQtc2xvdC1uYW1lPSJib2R5IiBpZD0iaXRlbS10ZXh0LXNsb3QtSjdkZnhLV2RpMnotYm9keSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ3Ny4wNTg3NTExMzc5OTk1IiBoZWlnaHQ9IjMyNiI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgZGF0YS1pdGVtLWlkPSJKN2RmeEtXZGkyeiIgY2xhc3M9Iml0ZW0tdGV4dC1jb250YWluZXIiIHN0eWxlPSJjb2xvcjogcmdiKDAsIDAsIDApOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgZGlzcGxheTogdGFibGUtY2VsbDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd2lkdGg6IDQ3Ny4wNTlweDsgaGVpZ2h0OiAzMjZweDsiPjxkaXYgZGF0YS1pdGVtLXRleHQtZWxlbWVudC1pdGVtLWlkPSJKN2RmeEtXZGkyeiIgY2xhc3M9Iml0ZW0tdGV4dC1lbGVtZW50IiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+ICAgICAgICAgPGc+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwwLDApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0iVTk0Q1FIQWJfNTkiIGRhdGEtaXRlbS1pZD0iVTk0Q1FIQWJfNTkiIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gNDY3LjA1ODc1MTEzNzk5OTUgMzI2ICBMIDAgMzI2IGEgMCAwIDAgMCAxIDAgMCAgTCAwIDAgIGEgMCAwIDAgMCAxIDAgMCAgIEwgNDY3LjA1ODc1MTEzNzk5OTUgMCAgIGEgMCAwIDAgMCAxIDAgMCAgTCA0NjcuMDU4NzUxMTM3OTk5NSAzMjYgICBhIDAgMCAwIDAgMSAwIDAgWiIgc3Ryb2tlLXdpZHRoPSIycHgiIHN0cm9rZT0icmdiYSgyNTAsMjAwLDIwMCwxLjApIiBzdHJva2UtZGFzaGFycmF5PSI4IDgiIGRhdGEtaXRlbS1pZD0iVTk0Q1FIQWJfNTkiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9InJnYmEoMjQwLCAyNDAsIDI0MCwgMSkiPjwvcGF0aD48L2c+ICA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxmb3JlaWduT2JqZWN0IGRhdGEtdGV4dC1zbG90LW5hbWU9ImJvZHkiIGlkPSJpdGVtLXRleHQtc2xvdC1VOTRDUUhBYl81OS1ib2R5IiB4PSIwIiB5PSIwIiB3aWR0aD0iNDY3LjA1ODc1MTEzNzk5OTUiIGhlaWdodD0iMzI2Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBkYXRhLWl0ZW0taWQ9IlU5NENRSEFiXzU5IiBjbGFzcz0iaXRlbS10ZXh0LWNvbnRhaW5lciIgc3R5bGU9ImNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7IHBhZGRpbmc6IDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyBkaXNwbGF5OiB0YWJsZS1jZWxsOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB3aWR0aDogNDY3LjA1OXB4OyBoZWlnaHQ6IDMyNnB4OyI+PGRpdiBkYXRhLWl0ZW0tdGV4dC1lbGVtZW50LWl0ZW0taWQ9IlU5NENRSEFiXzU5IiBjbGFzcz0iaXRlbS10ZXh0LWVsZW1lbnQiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48aDE+U2xpZGUgIzE8L2gxPgo8cCBzdHlsZT0ibWFyZ2luLXRvcDogMHB4OyBtYXJnaW4tYm90dG9tOiAwcHg7IHBhZGRpbmc6IDBweDsgbWluLWhlaWdodDogMThweDsiPkRyb3AgeW91ciBpdGVtcyBoZXJlPC9wPgo8cCBzdHlsZT0ibWFyZ2luLXRvcDogMHB4OyBtYXJnaW4tYm90dG9tOiAwcHg7IHBhZGRpbmc6IDBweDsgbWluLWhlaWdodDogMThweDsiPjxpPih0aGlzIHRleHQgYXMgd2VsbCBhcyB0aGlzIHNsaWRlIGNvbnRhaW5lciB3aWxsIG5vdCBiZSB2aXNpYmxlIGluIHZpZXcgbW9kZSk8L2k+PC9wPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPiAgICAgICAgIDxnPjwvZz4gPC9nPjwvZz4gPC9nPjwvZz4gPC9nPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsNywxODApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0ia3AwLWVnV0R0OVIiIGRhdGEtaXRlbS1pZD0ia3AwLWVnV0R0OVIiIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gMCAyMCBBIDIwIDIwIDAgMSAxIDQwIDIwICBBIDIwIDIwIDAgMSAxIDAgMjAgWiIgc3Ryb2tlLXdpZHRoPSIwcHgiIHN0cm9rZT0icmdiYSgzMCwzMCwzMCwxLjApIiBzdHJva2UtZGFzaGFycmF5PSIiIGRhdGEtaXRlbS1pZD0ia3AwLWVnV0R0OVIiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9InJnYmEoNzgsIDEzMSwgMjQ1LCAxKSI+PC9wYXRoPjwvZz4gIDxnIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGZvcmVpZ25PYmplY3QgZGF0YS10ZXh0LXNsb3QtbmFtZT0iYm9keSIgaWQ9Iml0ZW0tdGV4dC1zbG90LWtwMC1lZ1dEdDlSLWJvZHkiIHg9IjAiIHk9IjAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgZGF0YS1pdGVtLWlkPSJrcDAtZWdXRHQ5UiIgY2xhc3M9Iml0ZW0tdGV4dC1jb250YWluZXIiIHN0eWxlPSJjb2xvcjogcmdiKDAsIDAsIDApOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgZGlzcGxheTogdGFibGUtY2VsbDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd2lkdGg6IDQwcHg7IGhlaWdodDogNDBweDsiPjxkaXYgZGF0YS1pdGVtLXRleHQtZWxlbWVudC1pdGVtLWlkPSJrcDAtZWdXRHQ5UiIgY2xhc3M9Iml0ZW0tdGV4dC1lbGVtZW50IiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+ICAgICAgICAgPGc+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSw5Ljk5OTk5OTk5OTk5OTk5OCwxMikiIGRhdGEtc3ZnLWl0ZW0tY29udGFpbmVyLWlkPSI0TkJNUGFUTE9oLSIgZGF0YS1pdGVtLWlkPSI0TkJNUGFUTE9oLSIgc3R5bGU9Im9wYWNpdHk6IDE7IG1peC1ibGVuZC1tb2RlOiBub3JtYWw7Ij4gPGRlZnM+PC9kZWZzPiA8ZyBmaWx0ZXI9IiI+PGcgbW9kZT0iZWRpdCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48Zz4gPC9nPiA8cGF0aCBkPSJNIDEzLjMzIDAgTCAxMy4zMyAxNi42NyBMIDAgOC4zMyBMIDEzLjMzIDAgIFogIiBzdHJva2Utd2lkdGg9IjRweCIgc3Ryb2tlPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2UtZGFzaGFycmF5PSIiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0eWxlPSJzdHJva2UtbGluZWpvaW46IHJvdW5kOyI+PC9wYXRoPjwvZz4gICA8L2c+ICAgICAgICAgIDwvZz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgtMSwxLjIyNDY0Njc5OTE0NzM1MzJlLTE2LC0xLjIyNDY0Njc5OTE0NzM1MzJlLTE2LC0xLDQwLDQwKSIgZGF0YS1zdmctaXRlbS1jb250YWluZXItaWQ9IjN6blBrTm5wbTNUIiBkYXRhLWl0ZW0taWQ9IjN6blBrTm5wbTNUIiBzdHlsZT0ib3BhY2l0eTogMTsgbWl4LWJsZW5kLW1vZGU6IG5vcm1hbDsiPiA8ZGVmcz48L2RlZnM+IDxnIGZpbHRlcj0iIj4gPGcgc3R5bGU9Im9wYWNpdHk6IDA7Ij48Zz4gPC9nPiA8cGF0aCBkPSJNIDAgMjAgQSAyMCAyMCAwIDEgMSA0MCAyMCAgQSAyMCAyMCAwIDEgMSAwIDIwIFoiIHN0cm9rZS13aWR0aD0iMnB4IiBzdHJva2U9InJnYmEoMzAsMzAsMzAsMS4wKSIgc3Ryb2tlLWRhc2hhcnJheT0iIiBkYXRhLWl0ZW0taWQ9IjN6blBrTm5wbTNUIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBmaWxsPSJyZ2JhKDI0MCwyNDAsMjQwLDEuMCkiPjwvcGF0aD48L2c+ICA8ZyBzdHlsZT0ib3BhY2l0eTogMDsiPjxmb3JlaWduT2JqZWN0IGRhdGEtdGV4dC1zbG90LW5hbWU9ImJvZHkiIGlkPSJpdGVtLXRleHQtc2xvdC0zem5Qa05ucG0zVC1ib2R5IiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIGRhdGEtaXRlbS1pZD0iM3puUGtObnBtM1QiIGNsYXNzPSJpdGVtLXRleHQtY29udGFpbmVyIiBzdHlsZT0iY29sb3I6IHJnYigwLCAwLCAwKTsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsgcGFkZGluZzogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IHdoaXRlLXNwYWNlOiBub3JtYWw7IGRpc3BsYXk6IHRhYmxlLWNlbGw7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDQwcHg7Ij48ZGl2IGRhdGEtaXRlbS10ZXh0LWVsZW1lbnQtaXRlbS1pZD0iM3puUGtObnBtM1QiIGNsYXNzPSJpdGVtLXRleHQtZWxlbWVudCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPiAgICAgICAgICA8L2c+PC9nPiA8L2c+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSw1MjguMDU4NzUxMTM3OTk5NSwxODApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0iei02dkNrSVBia1kiIGRhdGEtaXRlbS1pZD0iei02dkNrSVBia1kiIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiA8ZyBzdHlsZT0ib3BhY2l0eTogMTsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gMCAyMCBBIDIwIDIwIDAgMSAxIDQwIDIwICBBIDIwIDIwIDAgMSAxIDAgMjAgWiIgc3Ryb2tlLXdpZHRoPSIwcHgiIHN0cm9rZT0icmdiYSgzMCwzMCwzMCwxLjApIiBzdHJva2UtZGFzaGFycmF5PSIiIGRhdGEtaXRlbS1pZD0iei02dkNrSVBia1kiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9InJnYmEoNzgsIDEzMSwgMjQ1LCAxKSI+PC9wYXRoPjwvZz4gIDxnIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGZvcmVpZ25PYmplY3QgZGF0YS10ZXh0LXNsb3QtbmFtZT0iYm9keSIgaWQ9Iml0ZW0tdGV4dC1zbG90LXotNnZDa0lQYmtZLWJvZHkiIHg9IjAiIHk9IjAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgZGF0YS1pdGVtLWlkPSJ6LTZ2Q2tJUGJrWSIgY2xhc3M9Iml0ZW0tdGV4dC1jb250YWluZXIiIHN0eWxlPSJjb2xvcjogcmdiKDAsIDAsIDApOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgZGlzcGxheTogdGFibGUtY2VsbDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd2lkdGg6IDQwcHg7IGhlaWdodDogNDBweDsiPjxkaXYgZGF0YS1pdGVtLXRleHQtZWxlbWVudC1pdGVtLWlkPSJ6LTZ2Q2tJUGJrWSIgY2xhc3M9Iml0ZW0tdGV4dC1lbGVtZW50IiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+ICAgICAgICAgPGc+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEsMS4yMjQ2NDY3OTkxNDczNTMyZS0xNiwtMS4yMjQ2NDY3OTkxNDczNTMyZS0xNiwtMSwyOS4zMzMzMzMzMzMzMzMzMzIsMjguNjY2NjY2NjY2NjY2NjY0KSIgZGF0YS1zdmctaXRlbS1jb250YWluZXItaWQ9IkVwOVFJaEpUMkRlIiBkYXRhLWl0ZW0taWQ9IkVwOVFJaEpUMkRlIiBzdHlsZT0ib3BhY2l0eTogMTsgbWl4LWJsZW5kLW1vZGU6IG5vcm1hbDsiPiA8ZGVmcz48L2RlZnM+IDxnIGZpbHRlcj0iIj48ZyBtb2RlPSJlZGl0IiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gMTMuMzMgMCBMIDEzLjMzIDE2LjY3IEwgMCA4LjMzIEwgMTMuMzMgMCAgWiAiIHN0cm9rZS13aWR0aD0iNHB4IiBzdHJva2U9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0cm9rZS1kYXNoYXJyYXk9IiIgZmlsbD0icmdiYSgyNTUsIDI1NSwgMjU1LCAxKSIgc3R5bGU9InN0cm9rZS1saW5lam9pbjogcm91bmQ7Ij48L3BhdGg+PC9nPiAgIDwvZz4gICAgICAgICAgPC9nPjxnIHRyYW5zZm9ybT0ibWF0cml4KC0xLDEuMjI0NjQ2Nzk5MTQ3MzUzMmUtMTYsLTEuMjI0NjQ2Nzk5MTQ3MzUzMmUtMTYsLTEsNDAsNDApIiBkYXRhLXN2Zy1pdGVtLWNvbnRhaW5lci1pZD0iZlZ0YkpIYzFYbS0iIGRhdGEtaXRlbS1pZD0iZlZ0YkpIYzFYbS0iIHN0eWxlPSJvcGFjaXR5OiAxOyBtaXgtYmxlbmQtbW9kZTogbm9ybWFsOyI+IDxkZWZzPjwvZGVmcz4gPGcgZmlsdGVyPSIiPiA8ZyBzdHlsZT0ib3BhY2l0eTogMDsiPjxnPiA8L2c+IDxwYXRoIGQ9Ik0gMCAyMCBBIDIwIDIwIDAgMSAxIDQwIDIwICBBIDIwIDIwIDAgMSAxIDAgMjAgWiIgc3Ryb2tlLXdpZHRoPSIycHgiIHN0cm9rZT0icmdiYSgzMCwzMCwzMCwxLjApIiBzdHJva2UtZGFzaGFycmF5PSIiIGRhdGEtaXRlbS1pZD0iZlZ0YkpIYzFYbS0iIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9InJnYmEoMjQwLDI0MCwyNDAsMS4wKSI+PC9wYXRoPjwvZz4gIDxnIHN0eWxlPSJvcGFjaXR5OiAwOyI+PGZvcmVpZ25PYmplY3QgZGF0YS10ZXh0LXNsb3QtbmFtZT0iYm9keSIgaWQ9Iml0ZW0tdGV4dC1zbG90LWZWdGJKSGMxWG0tLWJvZHkiIHg9IjAiIHk9IjAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgZGF0YS1pdGVtLWlkPSJmVnRiSkhjMVhtLSIgY2xhc3M9Iml0ZW0tdGV4dC1jb250YWluZXIiIHN0eWxlPSJjb2xvcjogcmdiKDAsIDAsIDApOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgZGlzcGxheTogdGFibGUtY2VsbDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgd2lkdGg6IDQwcHg7IGhlaWdodDogNDBweDsiPjxkaXYgZGF0YS1pdGVtLXRleHQtZWxlbWVudC1pdGVtLWlkPSJmVnRiSkhjMVhtLSIgY2xhc3M9Iml0ZW0tdGV4dC1lbGVtZW50IiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+ICAgICAgICAgIDwvZz48L2c+IDwvZz48L2c+IDwvZz4KICAgIDwvc3ZnPg==
item:
  id: root
  name: Slides
  shapeProps:
    cornerRadius: { $-expr: "cornerRadius" }
    fill: { $-expr: "background" }
    strokeColor: { $-expr: "strokeColor" }
    strokeSize: { $-expr: "strokeSize" }
    strokePattern: solid
  shape: rect
  area: { x: 0, y: 0, w: 600, h: 400, r: 0, px: 0.5, py: 0.5, sx: 1, sy: 1 }
  effects:
    - $-if: shadow == true
      id: shadow
      effect: drop-shadow
      name: Drop Shadow
      args:
        color: rgba(0,0,0,1.0)
        dx: 3
        dy: 3
        blur: 20
        opacity: 20
        inside: false
  childItems:

    - id: header
      name: Header
      textSlots:
        body:
          text: <p><strong>Slides</strong></p>
          paddingLeft: 0
          paddingRight: 0
          paddingTop: 0
          paddingBottom: 0
          color: { $-expr: "textColor" }
          halign: center
          valign: middle
          fontSize: 20
          whiteSpace: normal
          font: Arial
      shape: none
      locked: true
      area: { x: { $-expr: "(width - headerWidth)/2" }, y: 0, w: { $-expr: headerWidth }, h: 40, r: 0, px: 0.5, py: 0.5, sx: 1, sy: 1 }

    - id: container
      name: Container
      locked: true
      shapeProps:
        cornerRadius: 0
        fill: { $-expr: "frameFill" }
        strokeColor: { $-expr: "frameColor" }
        strokeSize: { $-expr: "frameStrokeSize" }
        strokePattern: solid
      shape: rect
      area:
        x: { $-expr: "containerMarginX" }
        y: { $-expr: "containerMarginTop" }
        w: { $-expr: "slideWidth" }
        h: { $-expr: "slideHeight" }
        r: 0
        px: 0.5
        py: 0.5
        sx: 1
        sy: 1
      behavior:
        events:
          - id: turn-clip
            event: init
            actions:
              - id: a1
                element: self
                method: set
                'on': true
                args:
                  field: clip
                  value: true
      clip: { $-expr: '!showAllSlides' }
      childItems:

        - id: moving-container
          name: Moving container
          locked: true
          area: { x: 0, y: 0, w: { $-expr: "(slideWidth + slideMargin) * numSlides" }, h: { $-expr: "slideHeight" }, r: 0, px: 0.5, py: 0.5, sx: 1, sy: 1 }
          shape: rect
          selfOpacity: 0
          childItems:
            - $-for: { start: 1, until: {$-expr: "numSlides + 1"}, it: "idx" }
              id: { $-str: "slide-${idx}" }
              name: {$-str: 'Slide #${idx}' }
              locked: true
              shape: rect
              shapeProps:
                strokeSize: 2
                strokePattern: dashed
                strokeColor: rgba(250,200,200,1.0)
                fill:
                  type: solid
                  color: rgba(240, 240, 240, 1)
              area:
                x: { $-expr: "ifcond(idx > 1, containerMarginX, 0) + (slideWidth + slideMargin) * (idx - 1)" }
                y: 0
                w: { $-expr: "slideWidth" }
                h: { $-expr: "slideHeight" }
                r: 0
                px: 0.5
                py: 0.5
                sx: 1
                sy: 1
              textSlots:
                body:
                  fontSize: 16
                  color: rgba(0,0,0,0.3)
                  text:
                    $-str: |
                      <h1>Slide #${idx}</h1>
                      <p>Drop your items here</p>
                      <p><i>(this text as well as this slide container will not be visible in view mode)</i></p>
              behavior:
                events:
                  - id: e1
                    event: init
                    actions:
                      - id: a1
                        element: self
                        method: move
                        args:
                          x: { $-expr: "(slideWidth) * (idx - 1)" }
                          y: 0
                          animated: false

                      - id: a2
                        element: self
                        method: set
                        args:
                          field: selfOpacity
                          value: 0
                          animated: false

          behavior:
            events:
              - id: e1
                event: init
                actions:
                  - id: a1_1
                    method: script
                    'on': true
                    element: self
                    args:
                      script: setVar('currentSlide', 1)

              - id: e2
                event: slide_prev
                actions:
                  - id: a2_1
                    method: condition
                    'on': true
                    element: self
                    args:
                      expression: getVar('currentSlide', 1) < 2
                      success: break-event
                      fail: pass

                  - id: a2_2
                    method: script
                    'on': true
                    element: self
                    args:
                      script:
                        $-str: |
                          slide = max(getVar('currentSlide', 1) - 1, 1)
                          setVar('currentSlide', slide)
                          setVar('srcX', getPosX())
                          setVar('dstX', -${slideWidth}*(slide - 1))

                  - id: a2_3
                    method: sendEvent
                    'on': true
                    element: '#btn-prev'
                    args:
                      event: update_state

                  - id: a2_4
                    method: sendEvent
                    'on': true
                    element: '#btn-next'
                    args:
                      event: update_state

                  - id: a2_5
                    method: script
                    'on': true
                    element: self
                    args:
                      script: setPosX(getVar('srcX') * (1 - t) + getVar('dstX') * t)
                      animated: true
                      animationDuration: 0.5
                      transition: ease-in-out
                      inBackground: true

              - id: e3
                event: slide_next
                actions:
                  - id: a3_1
                    method: condition
                    'on': true
                    element: self
                    args:
                      expression: { $-str: "getVar('currentSlide', 1) > ${numSlides}" }
                      success: break-event
                      fail: pass

                  - id: a3_2
                    method: sendEvent
                    'on': true
                    element: '#btn-prev'
                    args:
                      event: update_state

                  - id: a3_3
                    method: sendEvent
                    'on': true
                    element: '#btn-next'
                    args:
                      event: update_state

                  - id: a3_4
                    method: script
                    'on': true
                    element: self
                    args:
                      script:
                        $-str: |
                          slide = min(getVar('currentSlide', 1) + 1, ${numSlides})
                          setVar('currentSlide', slide)
                          setVar('srcX', getPosX())
                          setVar('dstX', -${slideWidth}*(slide - 1))

                  - id: a3_5
                    method: script
                    'on': true
                    element: self
                    args:
                      script: setPosX(getVar('srcX') * (1 - t) + getVar('dstX') * t)
                      animated: true
                      animationDuration: 0.5
                      transition: ease-in-out
                      inBackground: true

    - id: btn-prev
      shape: ellipse
      locked: true
      area:
        x: { $-expr: "buttonMargin" }
        y: { $-expr: "(height - buttonSize) / 2" }
        w: { $-expr: "buttonSize" }
        h: { $-expr: "buttonSize" }
        r: 0
        px: 0.5
        py: 0.5
        sx: 1
        sy: 1
      opacity: { $-expr: "buttonOpacity" }
      blendMode: normal
      name: Prev button
      behavior:
        events:
          - id: e1
            event: init
            actions:
              - id: a1_1
                'on': true
                element: self
                method: hide
                args:
                  animated: false

          - id: e2
            event: update_state
            actions:
              - id: a2_1
                method: condition
                "on": true
                element: '#moving-container'
                args:
                  expression: { $-str: "getVar('currentSlide', 1) < 2" }
                  success: pass
                  fail: skip-next

              - id: a2_2
                element: self
                method: hide
                'on': true
                args:
                  animated: true
                  animationDuration: 0.2

              - id: a2_3
                element: '#moving-container'
                method: condition
                'on': true
                args:
                  expression: { $-str: "getVar('currentSlide', 1) > 1" }
                  success: pass
                  fail: break-event

              - id: a2_4
                element: self
                method: condition
                'on': true
                args:
                  expression: { $-str: "isVisible() != true" }
                  success: pass
                  fail: skip-next

              - id: a2_5
                element: self
                method: show
                'on': true
                args:
                  animated: true
                  targetOpacity: { $-expr: "buttonOpacity" }
                  animationDuration: 0.2
      shapeProps:
        fill: { $-expr: "buttonColor" }
        strokeColor: rgba(30,30,30,1.0)
        strokeSize: 0
        strokePattern: solid
      childItems:
        - id: prev-icon
          name: Prev icon
          locked: true
          area:
            x: { $-expr: "15 * btnIconK" }
            y: { $-expr: "18 * btnIconK" }
            w: { $-expr: "btnIconWidth" }
            h: { $-expr: "btnIconHeight" }
            r: 0
            sx: 1
            sy: 1
            px: 0.5
            py: 0.5
          shape: path
          shapeProps:
            paths:
              - id: p1
                closed: true
                points:
                  - { t: "L", x: 100, y: 0 }
                  - { t: "L", x: 100, y: 100 }
                  - { t: "L", x: 0, y: 50 }
                pos: relative
            fill:
              type: solid
              color: { $-expr: "iconColor" }
            strokeColor: { $-expr: "iconColor" }
            strokeSize: 4
            strokePattern: solid

        - id: btn-prev-overlay
          name: Button prev overlay
          locked: true
          shape: ellipse
          cursor: pointer
          selfOpacity: 0
          area: { x: 0, y: 0, w: { $-expr: "buttonSize" }, h: { $-expr: "buttonSize" }, r: 180, sx: 1, sy: 1, px: 0.5, py: 0.5 }
          behavior:
            events:
              - id: e1
                event: clicked
                actions:
                  - id: a1_1
                    element: '#moving-container'
                    method: sendEvent
                    args:
                      event: slide_prev

              - id: e2
                event: mousein
                actions:
                  - id: a2_1
                    element: '#btn-prev'
                    method: set
                    args:
                      field: opacity
                      value: 100
                      animated: true

              - id: e3
                event: mouseout
                actions:
                  - id: a3_1
                    element: '#btn-prev'
                    method: set
                    args:
                      field: opacity
                      value: { $-expr: "buttonOpacity" }
                      animated: true

    - id: btn-next
      shape: ellipse
      locked: true
      cursor: default
      area:
        x: { $-expr: "width - buttonSize - buttonMargin" }
        y: { $-expr: "(height - buttonSize) / 2" }
        w: { $-expr: "buttonSize" }
        h: { $-expr: "buttonSize" }
        r: 0
        px: 0.5
        py: 0.5
        sx: 1
        sy: 1
      opacity: { $-expr: "buttonOpacity" }
      name: Next button
      behavior:
        events:
          - id: e1
            event: update_state
            actions:
              - id: a1
                method: condition
                'on': true
                element: '#moving-container'
                args:
                  expression: { $-str: "getVar('currentSlide', 1) >= ${numSlides - 1}" }
                  success: pass
                  fail: skip-next

              - id: a2
                element: self
                method: hide
                'on': true
                args:
                  animated: true
                  animationDuration: 0.2

              - id: a3
                element: '#moving-container'
                method: condition
                'on': true
                args:
                  expression: { $-str: "getVar('currentSlide', 1) < ${numSlides}" }
                  success: pass
                  fail: break-event

              - id: a4
                element: self
                method: condition
                'on': true
                args:
                  expression: { $-str: "isVisible() != true" }
                  success: pass
                  fail: skip-next

              - id: a5
                element: self
                method: show
                "on": true
                args:
                  animated: true
                  targetOpacity: { $-expr: "buttonOpacity" }
                  animationDuration: 0.2
      shapeProps:
        fill: { $-expr: "buttonColor" }
        strokeColor: rgba(30,30,30,1.0)
        strokeSize: 0
        strokePattern: solid
      childItems:
        - id: next-icon
          name: Next icon
          locked: true
          area:
            x: { $-expr: "24 * btnIconK" }
            y: { $-expr: "18 * btnIconK" }
            w: { $-expr: "btnIconWidth" }
            h: { $-expr: "btnIconHeight" }
            r: 180
            sx: 1
            sy: 1
            px: 0.5
            py: 0.5
          shape: path
          shapeProps:
            paths:
              - id: p1
                closed: true
                points:
                  - { t: "L", x: 100, y: 0 }
                  - { t: "L", x: 100, y: 100}
                  - { t: "L", x: 0, y: 50}
                pos: relative
            fill:
              type: solid
              color: { $-expr: "iconColor" }
            strokeColor: { $-expr: "iconColor" }
            strokeSize: 4
            strokePattern: solid

        - id: btn-next-overlay
          name: Button next overlay
          locked: true
          shape: ellipse
          cursor: pointer
          selfOpacity: 0
          area: { x: 0, y: 0, w: { $-expr: "buttonSize" }, h: { $-expr: "buttonSize" }, r: 180, sx: 1, sy: 1, px: 0.5, py: 0.5}
          behavior:
            events:
              - id: e1
                event: clicked
                actions:
                  - id: a1
                    element: '#moving-container'
                    method: sendEvent
                    args:
                      event: slide_next

              - id: e2
                event: mousein
                actions:
                  - id: a2
                    element: '#btn-next'
                    method: set
                    args:
                      field: opacity
                      value: 100
                      animated: true

              - id: e3
                event: mouseout
                actions:
                  - id: a3
                    element: '#btn-next'
                    method: set
                    args:
                      field: opacity
                      value: { $-expr: "buttonOpacity" }
                      animated: true